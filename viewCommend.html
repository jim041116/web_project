<!DOCTYPE html>
<html lang="zh-Hant-TW">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>景點推薦</title>
  <link rel="icon" href="favicon.ico" />
  <link rel="stylesheet" href="./css/public.css" />
  <link rel="stylesheet" href="./css/viewCommend.css" />
  <link rel="stylesheet" href="./css/weather_style.css">
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
</head>

<body onload="ShowTime()">
  <header>
    <div id="logo">
      <a href="index.html">
        <img src="./img/logo_g.png" alt="logo" width="250px" />
      </a>
    </div>
    <div id="nav_bar">
      <ul>
        <li class="nav_bar_item">
          空拍景點
          <ul class="drop_nav_bar">
            <li class="drop_nav_bar_item">
              <a href="./viewCommend.html">景點推薦</a>
            </li>
            <li class="drop_nav_bar_item">
              <a href="./viewShare.html">景點分享</a>
            </li>
          </ul>
        </li>
        <li class="nav_bar_item">
          認識空拍機
          <ul class="drop_nav_bar">
            <li class="drop_nav_bar_item">
              <a href="./droneInt.html">空拍機介紹</a>
            </li>
            <li class="drop_nav_bar_item">
              <a href="./droneOperate.html">基礎操作</a>
            </li>
            <li class="drop_nav_bar_item">
              <a href="./droneType.html">機型介紹</a>
            </li>
            <li class="drop_nav_bar_item">
              <a href="./lawR.html">空拍法規</a>
            </li>
            <li class="drop_nav_bar_item">
              <a href="./appCom.html">APP推薦</a>
            </li>
          </ul>
        </li>
        <li class="nav_bar_item">
          <a href="./reservation.html">預約專區</a>
        </li>
        <li class="nav_bar_item">
          <a href="./news.html">最新消息</a>
        </li>
        <li class="nav_bar_item">
          登入會員
          <ul class="drop_nav_bar">
            <li class="drop_nav_bar_item">
              <a href="./login.html">登入頁面</a>
            </li>
          </ul>
        </li>
      </ul>
    </div>
    <!-- 漢堡 -->
    <div class="hamburger_box">
      <div class="hamburger" id="hamburger-item">
        <span class="line"></span>
        <span class="line"></span>
        <span class="line"></span>
      </div>
    </div>
    <!-- 漢堡nav -->
    <div class="hamburger_nav">
      <ul class="hamburger_nav_item">
        <li class="hamburger_nav_title">空拍景點</li>
        <a href="./viewCommend.html">
          <li>景點推薦</li>
        </a>
        <a href="./viewShare.html">
          <li>景點分享</li>
        </a>
      </ul>
      <ul class="hamburger_nav_item">
        <li class="hamburger_nav_title">認識空拍機</li>
        <a href="./droneInt.html">
          <li>空拍機介紹</li>
        </a>
        <a href="./droneOperate.html">
          <li>基礎操作</li>
        </a>
        <a href="./droneType.html">
          <li>機型介紹</li>
        </a>
        <a href="./lawR.html">
          <li>空拍法規</li>
        </a>
        <a href="./appCom.html">
          <li>APP推薦</li>
        </a>
      </ul>
      <ul class="hamburger_nav_item">
        <a href="./reservation.html">
          <li class="hamburger_nav_title">預約專區</li>
        </a>
      </ul>
      <ul class="hamburger_nav_item">
        <a href="./news.html">
          <li class="hamburger_nav_title">最新消息</li>
        </a>
      </ul>
      <ul class="hamburger_nav_item">
        <li class="hamburger_nav_title">登入會員</li>
        <a href="./login.html">
          <li>登入頁面</li>
        </a>
      </ul>
    </div>
    <!-- 漢堡結束 -->
  </header>
  <main>
    <!-- banner -->
    <section>
      <div class="banner">
        <img src="./img/1.png" alt="" />
        <div class="banner_title">
          <h1>景點推薦</h1>
          <p>精選景點．景點查詢</p>
        </div>
      </div>
    </section>
    <!-- content -->
    <section>
      <div class="place_item">
        <!-- 1 -->
        <div class="item">
          <div class="place_info">
            <div class="text">
              <h5>台東－池上</h5>
              <p>
                台東池上，山水相依，自然風光美不勝收。彩繪村充滿童趣，文化薈萃。豐富的農產品和美食，如花生、文旦、芋頭等，吸引許多人前來品嚐。還有清幽的溫泉，讓人放鬆身心。池上是個充滿魅力的地方，值得一遊。
              </p>
              <div class="tag">
                <a href="#">more</a>
              </div>
            </div>
          </div>
          <img src="./img/DJI_0219.jpg" alt="" />
        </div>
        <!-- 2 -->
        <div class="item smoove" data-opacity="1">
          <div class="place_info move2">
            <div class="text">
              <h5>花蓮－清水斷崖</h5>
              <p>
                花蓮清水斷崖，位於東部海岸線，景色壯麗迷人。高聳的懸崖峭壁，奇特的地質景觀，讓人驚嘆不已。蔚藍的大海與峭壁相映成趣，是攝影愛好者的天堂。夕陽西下時，景色更加美不勝收，是絕佳的觀景點。
              </p>
              <div class="tag">
                <a href="#">more</a>
              </div>
            </div>
          </div>
          <img src="./img/DJI_0317.jpg" alt="" />
        </div>
        <!-- 3 -->
        <div class="item smoove" data-opacity="1">
          <div class="place_info">
            <div class="text">
              <h5>南投－合歡山</h5>
              <p>
                南投合歡山，台灣中央山脈最高峰，海拔3,275公尺。涼爽的氣候、壯麗的山景，是登山愛好者的天堂。登頂可觀賞日出、雲海，並欣賞豐富的高山植物和野生動物。絕對是大自然的寶藏。
              </p>
              <div class="tag">
                <a href="#">more</a>
              </div>
            </div>
          </div>
          <img src="./img/DJI_0150.jpg" alt="" />
        </div>
        <!-- 4 -->
        <div class="item smoove" data-opacity="1">
          <div class="place_info move2">
            <div class="text">
              <h5>新北－象鼻岩</h5>
              <p>
                新北象鼻岩位於淡水區，是一個岩石地貌，形狀酷似象鼻子，因此得名。它是淡水的地標之一，也是觀光景點之一。遊客可以在象鼻岩前拍照留念，欣賞海岸風光，享受愜意的海濱氛圍。
              </p>
              <div class="tag">
                <a href="#">more</a>
              </div>
            </div>
          </div>
          <img src="./img/dji_fly_01111.jpg" alt="" />
        </div>
        <!-- 5 -->
        <div class="item smoove" data-opacity="1">
          <div class="place_info">
            <div class="text">
              <h5>台南－安平軍港</h5>
              <p>
                台南安平軍港位於臺南市安平區，是臺灣歷史最悠久的港口之一。軍港內保留了許多歷史建築和文物，如安平古堡、赤崁樓等，展現著台灣的海洋文化和殖民歷史。遊客可以參觀博物館、漫步碼頭，感受悠久的海上風情。
              </p>
              <div class="tag">
                <a href="#">more</a>
              </div>
            </div>
          </div>
          <img src="./img/安平.jpg" alt="" />
        </div>
      </div>
    </section>
    <!-- API -->
    <section>
      <div class="tittle">
        <div>今日天氣</div>
        <div class="tittle_ball"></div>
      </div>
      <!-- React 元件 -->
      <div id="root"></div>
    </section>
  </main>

  <footer>
    <div class="footer_section">
      <div id="movePic">
        <img class="moveImg" src="./img/001.png" alt="drone" width="670px" />
      </div>

      <div class="footer_web_map">
        <ul class="web_map_item">
          <li class="web_map_title">空拍景點</li>
          <a href="./viewCommend.html">
            <li>景點推薦</li>
          </a>
          <a href="./viewShare.html">
            <li>景點分享</li>
          </a>
        </ul>
        <ul class="web_map_item">
          <li class="web_map_title">認識空拍機</li>
          <a href="./droneInt.html">
            <li>空拍機介紹</li>
          </a>
          <a href="./droneOperate.html">
            <li>基礎操作</li>
          </a>
          <a href="./droneType.html">
            <li>機型介紹</li>
          </a>
          <a href="./lawR.html">
            <li>空拍法規</li>
          </a>
          <a href="./appCom.html">
            <li>APP推薦</li>
          </a>
        </ul>
        <ul class="web_map_item">
          <a href="./reservation.html">
            <li class="web_map_title">預約專區</li>
          </a>
        </ul>
        <ul class="web_map_item">
          <a href="./news.html">
            <li class="web_map_title">最新消息</li>
          </a>
        </ul>
        <ul class="web_map_item">
          <li class="web_map_title">登入會員</li>
          <a href="./login.html">
            <li>登入頁面</li>
          </a>
        </ul>
      </div>
    </div>
    <div class="copyright_section">
      <div>copyright © TravelDrone 版權所有</div>
      <a href="index.html" class="footer_logo">
        <img src="./img/logo_w.png" alt="logo" width="150px" />
      </a>
    </div>
  </footer>
  <script src="./js/jquery-1.11.3.min.js"></script>

  <!-- jquery原始碼 -->
  <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
  <!-- jquery smoove -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-smoove/0.2.10/jquery.smoove.min.js"></script>
  <!-- GO-top -->
  <script>
    $(function () {
      $("body").append(
        '<a href="#" id="fixedTop" class="go_top"><img src="./img/to-top.svg" alt=""></a>'
      );
      let fixedTop = $("#fixedTop");
      fixedTop.on("click", function () {
        $("html, body").animate({ scrollTop: "0" }, 1000);
      });
      $(window).on("load scroll resize", function () {
        let showTop = 100;
        let curScrollTop = $(window).scrollTop();

        if (curScrollTop > showTop) {
          fixedTop.fadeIn("false");
        } else {
          fixedTop.fadeOut("false");
        }
      });
    });

    // 漢堡
    $(document).ready(function () {
      $(".hamburger").click(function () {
        $(this).toggleClass("is-active");
      });
    });

    // 漢堡nav
    let hb = document.querySelector(".hamburger_box");
    let hn = document.querySelector(".hamburger_nav");

    hb.onclick = () => {
      if (hn.style.transform == "translateY(0px)") {
        hn.style.transform = "translateY(-1500px)";
      } else {
        hn.style.transform = "translateY(0px)";
      }
    };
    // 漢堡結束

    // jquery smoove
    $(".smoove").smoove({
      offset: "30%",
      // moveX: "150px",
      // moveY: "50px",
    });

    $(".smoove_z").smoove({
      offset: "40%",
      moveX: "200px",
      moveY: "-500px",
      rotateX: "360deg",
    });
  </script>

  <!-- move -->
  <script>
    let movePic = document.querySelector("#movePic");
    let lockPos = document.querySelector("#lockPos");

    window.addEventListener("scroll", checkMove);
    checkMove();

    function checkMove() {
      console.log(window.scrollY);

      if (window.scrollY > 2000) {
        document.querySelector("#movePic").classList.add("moveIn");
      } else {
        document.querySelector("#movePic").classList.remove("moveIn");
      }
    }
  </script>

  <!-- smoove -->
  <script>
    window.addEventListener("resize", checkSize);
    checkSize();

    function checkSize() {
      console.log(window.innerWidth);

      // window.onresize = function () {
      //   location.reload();
      // };

      let width = window.innerWidth;
      if (width <= 576) {
        window.onresize = function () {
        location.reload();
      };
      }
    }
  </script>

  <!-- 天氣API開始 -->
  <script type="text/babel">

    let ShowTime = () => {
      let NowDate = new Date();
      let h = NowDate.getHours();
      let m = NowDate.getMinutes();
      if (m < 10) {
        m = '0' + m
      }
      document.getElementById('nowTime').innerHTML = h + ':' + m;
      setTimeout('ShowTime()', 30000);
    }

    const { useState } = React;

    const Weather = () => {

      const [selectState, setSelectState] = useState('');

      const showData = () => {
        ;
        fetch("https://opendata.cwb.gov.tw/api/v1/rest/datastore/F-C0032-001?Authorization=CWB-73813A86-3EF5-4E6E-A811-B26E470CF6B6&locationName=")
          .then((response) => response.json())
          .then((data) => {
            console.log(data);
            const locationData = data.records.location[selectState]
            const StyleData = locationData.weatherElement[0].time[0]
            const Rain = locationData.weatherElement[1].time[0]
            const MinT = locationData.weatherElement[2].time[0]
            const MaxT = locationData.weatherElement[4].time[0]
            const Ci = locationData.weatherElement[3].time[0]


            setWeather({
              Location: locationData.locationName,
              WeatherStyle: StyleData.parameter.parameterName,
              WeatherValue: StyleData.parameter.parameterValue,
              Rain: Rain.parameter.parameterName + '%',
              MinT: MinT.parameter.parameterName + '°C',
              MaxT: MaxT.parameter.parameterName + '°C',
              Ci: Ci.parameter.parameterName
            });
          });
      };

      const [Weather, setWeather] = useState({
        Location: '---',
        WeatherStyle: '---',
        Rain: '---',
        MinT: '---',
        MaxT: '---',
        Ci: '---'
      })

      return (<div>
        <div className="weather_item">
          {/*<選單>*/}
          <div className="LocationSelect">
            <select name="" id="" value={selectState} onChange={e => setSelectState(e.target.value)}>
              {/*<option value="" disabled>--縣市--</option>*/}
              <option value="5">臺北市</option>
              <option value="1">新北市</option>
              <option value="13">桃園市</option>
              <option value="4">新竹市</option>
              <option value="3">新竹縣</option>
              <option value="8">苗栗縣</option>
              <option value="11">臺中市</option>
              <option value="20">彰化縣</option>
              <option value="14">南投縣</option>
              <option value="9">雲林縣</option>
              <option value="2">嘉義市</option>
              <option value="0">嘉義縣</option>
              <option value="6">臺南市</option>
              <option value="15">高雄市</option>
              <option value="17">屏東縣</option>
              <option value="12">臺東縣</option>
              <option value="10">花蓮縣</option>
              <option value="7">宜蘭縣</option>
              <option value="18">基隆市</option>
              <option value="19">澎湖縣</option>
              <option value="16">金門縣</option>
              <option value="21">連江縣</option>
            </select>
            {showData()}
          </div>
          <div className="item_ifo">
            <div className="Location">{Weather.Location}</div>
            <div className="WeatherStyle">{Weather.WeatherStyle} / {Weather.Ci}</div>
            <div className="Rain">
              <img src="./img/weather_img/rain_icon.png" alt="" />
              {Weather.Rain}
            </div>
          </div>
          <div className="min_ifo">
            <div id="nowTime"></div>
            <div className="MinT">{Weather.MinT} / {Weather.MaxT}</div>
          </div>
          <img src={`./img/weather_img/${Weather.WeatherValue}.svg`} alt={Weather.WeatherStyle} className="weather_img" />
        </div>
      </div>
      )
    }

    const el = document.getElementById('root');
    const root = ReactDOM.createRoot(el);
    root.render(<Weather />);

  </script>
  <!-- 天氣API結束 -->
</body>

</html>